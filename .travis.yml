sudo: required
dist: trusty
language: node_js
node_js:
  - '6.12.3'

cache:
  directories:
     - ./node_modules

params:
- env

addons:
  browserstack:
    username: 
      secure: "DtSMAQJVcg5BOjBIoKJKcXfxnASw3tZcSt+uYHSnRVEaNzPjo7/30HrCsLqTei/wgCkDsoetZWsPDiP0/xHb/DwSOKTia6vpRi0ZdAKjNkwsYr0ENJi8p8D6IextmpTVk6WBOKO2NbjSsn8MDu2Zbzd+hOj1ETe4hSsMzhFVTj86HZMbHjgoHnG2ingcWRVYl2SBJqIXSMNsTatRZNoPj7o7GH2nhfUYJiPRlTNEj4vRuTn4lN/r97I5nJIEK4EweXpHyOjQUFhMs4ZtmPB3GjCA91krECLA0i/vrikH00wiR1cdLrQROF4erLYwIoVhLeUHa1oyfGs5Oa6e0PbWiBG2yD49KtU+1OwQvFypHOs1FVKMhN0WSNcMtHEzFMPZHaK+XeXapXorNdAerdu9ekUoHpOlFm0f9w+uWo2F9MqgkoFoAncHbhps/UzBVzlUV7Tx/7kzZo6nS+24Te5buR4724SSRKbHfffOz3Uc1BQwptGI7Pdo14pAstpLmfqQ3Ozy+JVAgtdjwdZYAOffPKWH0oRC4qsfyxYAcclm6VmXwJjnyKgF7quZeQb7ZIflJBxswRREuSznV36WHs8YU13gFja9/Wp8WXgPEDUDnGqJm/zMXAI6QOZtGHHJoi8C92CpTFsnFCmD479Ht2IMdCY1I9NOswsaXEfTrOlihlM="
    access_key: 
      secure: "PrIUiLWy2VI92oCKwfs6EeEwTMhgvcs2JzCjjxwsFvgnCJhFHtyQ6wxqA3gfbJQq5w5+kI1/tzfOz1GtPSi1f8QIITuW+kQccdJw9BkpqwL8YT2wxos9zGJn/Ahez0xz1itL4nO7U/YBfZMQnKDsUUxh+0swyUzGHE1d40fzs2Y6z/OiNVLpw1IUjESO2NnWIBRM1shhq4Tw2ZUO7fcJHZAT1sCnM/BQviw02RLYsRX3CREfn5thAYrFGFY94+IaWG5iUFzYHyl9xsZ4oM2W5vbSYWAS6uFoer+QcGpI6W/ytP5v0Ul4J5DZS715ogxLPaQFkSvn98oW7gk5aNrO177X+hPY6ISbpFH8Wz3RO/ePqU+hbKT5aTgoyaZ/eocLduzrHzPOP2kcPqEWnzCaXDn6ShO0BcbtfdJBnD9qd/+jYUxfmqPXhrk9p20pFFnuuD31PMdzkqmY8NELWRu5FmUVhyjYsVysDIOW1nYdFkTZOJaPN9dTaE3CUp7YDH3HgZDz+VpxLW8jFQZdfS1YVwWDVJGmA2BVyarD+nkNILPe0fhqqcNLWjJk7fca6xmoNNKd+AqsbdrNDMjDGBiW13T+lPz++2HZa8ZqV1wrv7DeCOImejC9B5XoSoHaEJ1r98nx9dOvs5AXJ2F8pf/DO14a+tqbGsol0Cyg0naXQkk="
apt:
  sources:
    - google-chrome
  packages:
    - google-chrome-stable
    - google-chrome-beta

before_install:
  - export CHROME_BIN=chromium-browser
  - export DISPLAY=:99.0
  - sh -e /etc/init.d/xvfb start

before_script:
- npm install -g angular-cli
- npm install -g karma
- npm install
- ng build

script: karma start karma.conf.js --single-run