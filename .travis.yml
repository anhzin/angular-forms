sudo: required
dist: trusty
language: node_js
node_js:
  - '6.12.3'

cache:
  directories:
     - ./node_modules

params:
- env

addons:
  browserstack:
    username: 
     - secure: "iwhNBQlb8v0tEhIGLZjNzgo4QPl0Vp8A8mdLFt4llaZXsCNkjxAK4ggIPEpr5Fe+2PKMTWwS0guFv8mnEjhSMUvDVhLUAjcpZufOzGy9oqIFNj73L0Qes8RDXCVSaMwhXNmu2g9jWbXROYl54j5X2E5OcTm8mTKnFWojBlHnug+Y8rUiH9vQysiGUzUXRaqw6zWmTn1V0NaYidLvg6o1UeKAF0K9ih3cySh/FRSYY/QqxQDp2Mu+GPEktxm740w3CXLmSWpOEBrcLLyw+MU+QwRdoqzWSS02kuoli4CCDprYUfWdggrBpK5i1dfL2+myKzqZ6J7ZxPGNyW8bsXvXrVylFWC64dtJ685mXSnuA5Z9Mm+eH4ZunxnHv81IA0EDcKA8qGoSwp4tG8FKrc5CxJb9dq3Qq1AuEgkCZAO4nkMqGqPyXI0dYiYy6eq2la4LX9OzAhUBoGJLTTUeLaR+UQ++Gn6YKgGZFsjdS5rMBzVdQdWWim6/DeaVVEMcK9n6S5rv1VjioYT2T5k0a5Q0NmCETjtZY2swLHlpaQ6pIwipyyt3dzDjdxDdDlhUFSMV9MSIf2bfEPSaF1yuou+Tn8BAwGCDPmvVDMJX2rmi/Trm4lw8ki7zaD0KjOq7zleVXROEtx1KcD9Tv1FL2xUb9rtyDukHAJRiF1U0zRuC3fM="

    access_key: 
     - secure: "IoRL3A6wTpwg+DrwifgmGuKvU1PtI8ABmFQFEOs4p+V9qZ/PoeA0OJKy83ACqG8EtnEr/g4pnPxbLnXwEX578Xf2LEIlxysyVvXD/zRtowCieHA+Iw/A04WikxWZfEIDlfgskTfEK3YSWPzIWoNRYvC+0IW/O4Sk1fXi61RsuGDt50Oz48yVoBhAsECmUztX52KW5JyfmqDBKATzVHEXB2zvlFgl1+Kuyez2bFV8MrX2HU2i1eS/EEOGx1fdPyKFsg9GGWR/rbvbpVzIm48o3ozyv4mg13rTSZy12Q3GxpmqbhEvB4SJQc/yHQfvlWahBNchdecm5ABEjtVFXnwyEC66DyEBz2QbLaSlqwd7bUkTAfl4R2jctyEynDBTi4EYx+xUCZmuhBWr1TyjYjKGVKahJxOPLgHCquRM8962nhw76xEOf0RQ6FQCcV3R0PiYZ53oBrG9Vgzv7lEEJ0apdKPyjFY0qs8G3ZoBxyERs5KPS74j4nsmlvoXyrhAFZCOrWEpHHi1Ci5H9+CEunMS68VKPJZi8Upar8N4PVGk51UTU+/Z0LrD2z4mZoX84BXCCk6y9Fo5ruAiETizr+Ak8sUEmMAKmo3zjRFh03Ey7UBW8+YJltVy49vz7J/I384CAAahFNBu+fOX8ByMFMaz2DM0kaPP2We0wNKggE3AGPM="
apt:
  sources:
    - google-chrome
  packages:
    - google-chrome-stable
    - google-chrome-beta

before_install:
  - export CHROME_BIN=chromium-browser
  - export DISPLAY=:99.0
  - sh -e /etc/init.d/xvfb start

before_script:
- npm install -g angular-cli
- npm install -g karma
- npm install
- ng build
- ng e2e

script: karma start karma.conf.js --single-run